(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{11:function(e,t,c){},15:function(e,t,c){},16:function(e,t,c){"use strict";c.r(t);var s=c(6),n=c.n(s),a=(c(11),c(12),c(4)),r=c(2),i=c(3),l=c.n(i),o=c(1),d=c(0),j=function(e){var t=e.todos,c=e.selectUser;return Object(d.jsx)("table",{"data-cy":"listOfTodos",className:"table is-narrow is-fullwidth",children:Object(d.jsx)("tbody",{children:t.map((function(e){return Object(d.jsxs)("tr",{className:e.completed?"has-background-success-light has-text-success":"has-background-danger-light has-text-danger",children:[Object(d.jsx)("td",{className:"is-vcentered",children:Object(d.jsx)("span",{className:"icon is-size-5",children:Object(d.jsx)("i",{className:e.completed?"fas fa-check-square":"fas fa-square-xmark"})})}),Object(d.jsx)("td",{className:"is-vcentered is-expanded",children:e.title}),Object(d.jsx)("td",{className:"has-text-right is-vcentered",children:Object(d.jsxs)("button",{className:"button is-warning",type:"button",onClick:function(){c(e.userId,e.id)},children:["Show"," ",e.userId]})})]},e.id)}))})})};function u(e){return(t=1e3,new Promise((function(e){setTimeout(e,t)}))).then((function(){return fetch("https://mate.academy/students-api"+e)})).then((function(e){return e.json()}));var t}c(15);var b,h=function(){return Object(d.jsx)("div",{className:"Loader",children:Object(d.jsx)("div",{className:"Loader__content"})})},O=function(e){var t=e.todo,c=e.selectedUser,s=e.selectUser,n=Object(o.useState)(null),i=Object(r.a)(n,2),j=i[0],b=i[1];return Object(o.useEffect)((function(){var e=function(){var e=Object(a.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("/users/".concat(c));case 2:t=e.sent,b(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(d.jsxs)("div",{className:"modal is-active",children:[Object(d.jsx)("div",{className:"modal-background"}),j?Object(d.jsxs)("div",{className:"modal-card",children:[Object(d.jsxs)("header",{className:"modal-card-head",children:[Object(d.jsx)("div",{className:"modal-card-title has-text-weight-medium",children:"Todo #".concat(null===t||void 0===t?void 0:t.id)}),Object(d.jsx)("a",{href:"#close",className:"delete",onClick:function(){return s(0,0)},children:"Close"})]}),Object(d.jsxs)("div",{className:"modal-card-body",children:[Object(d.jsx)("p",{className:"block",children:null===t||void 0===t?void 0:t.title}),Object(d.jsxs)("p",{className:"block",children:[null!==t&&void 0!==t&&t.completed?Object(d.jsx)("strong",{className:"has-text-success",children:"Done"}):Object(d.jsx)("strong",{className:"has-text-danger",children:"Planned"})," by ",Object(d.jsx)("a",{href:"mailto:".concat(j.email),children:j.name})]})]})]}):Object(d.jsx)(h,{})]})};!function(e){e.ALL="all",e.ACTIVE="active",e.COMPLETED="completed"}(b||(b={}));var f,m=function(e){var t=e.changeFilteredCondition,c=e.changeQuery,s=e.query;return Object(d.jsxs)("form",{className:"field has-addons",children:[Object(d.jsx)("p",{className:"control",children:Object(d.jsx)("span",{className:"select",children:Object(d.jsxs)("select",{onChange:function(e){return function(e){t(e.target.value)}(e)},children:[Object(d.jsx)("option",{value:b.ALL,children:"All"}),Object(d.jsx)("option",{value:b.ACTIVE,children:"Active"}),Object(d.jsx)("option",{value:b.COMPLETED,children:"Completed"})]})})}),Object(d.jsxs)("p",{className:"control is-expanded has-icons-left has-icons-right",children:[Object(d.jsx)("input",{"data-cy":"filterByTitle",type:"text",className:"input",placeholder:"Search...",value:s,onChange:function(e){c(e.target.value)}}),Object(d.jsx)("span",{className:"icon is-left",children:Object(d.jsx)("i",{className:"fas fa-magnifying-glass"})}),Object(d.jsx)("span",{className:"icon is-right",style:{pointerEvents:"all"},children:Object(d.jsx)("button",{type:"button",className:"delete has-text",onClick:function(){return c("")}})})]})]})};!function(e){e.ALL="all",e.ACTIVE="active",e.COMPLETED="completed"}(f||(f={}));var x=function(){var e=Object(o.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1],n=Object(o.useState)(c),i=Object(r.a)(n,2),b=i[0],x=i[1],v=Object(o.useState)(!1),p=Object(r.a)(v,2),N=p[0],g=p[1],y=Object(o.useState)(0),C=Object(r.a)(y,2),k=C[0],L=C[1],E=Object(o.useState)(0),w=Object(r.a)(E,2),T=w[0],A=w[1],S=Object(o.useState)(f.ALL),I=Object(r.a)(S,2),P=I[0],U=I[1],D=Object(o.useState)(""),q=Object(r.a)(D,2),F=q[0],M=q[1],V=Object(o.useState)(!1),_=Object(r.a)(V,2),B=_[0],J=_[1];Object(o.useEffect)((function(){var e=function(){var e=Object(a.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("/todos");case 2:t=e.sent,g(!0),s(t),x(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),g(!1)}),[]);var Q=function(e){return e.toLowerCase().includes(F.toLowerCase())};Object(o.useEffect)((function(){switch(P){case f.ALL:x(c.filter((function(e){return Q(e.title)})));break;case f.ACTIVE:x(c.filter((function(e){return!e.completed&&Q(e.title)})));break;case f.COMPLETED:x(c.filter((function(e){return e.completed&&Q(e.title)})))}}),[P,F]);var z=function(e,t){L(e),J(!B),A(t)},G=c.find((function(e){return e.id===T}));return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"section",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"box",children:N?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{className:"title",children:"Todos: ".concat(P)}),Object(d.jsx)("div",{className:"block",children:Object(d.jsx)(m,{changeFilteredCondition:function(e){U(e)},changeQuery:function(e){M(e)},query:F})}),Object(d.jsx)("div",{className:"block",children:Object(d.jsx)(j,{todos:b,selectUser:z})})]}):Object(d.jsx)(h,{})})})}),B&&Object(d.jsx)(O,{todo:G,selectedUser:k,selectUser:z})]})};n.a.render(Object(d.jsx)(x,{}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.eef119c5.chunk.js.map